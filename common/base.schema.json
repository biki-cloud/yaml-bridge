{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "base.schema.json",
  "title": "ドキュメント共通スキーマ",
  "description": "全カテゴリで共通の基本フィールドを定義",
  "type": "object",
  "definitions": {
    "meta_base": {
      "type": "object",
      "description": "メタ情報の基本構造",
      "required": ["title", "category", "doc_type", "status", "version"],
      "properties": {
        "title": {
          "type": "string",
          "description": "ドキュメントタイトル"
        },
        "category": {
          "type": "string",
          "enum": ["overview", "investigation", "design", "development", "verification"],
          "description": "カテゴリ"
        },
        "doc_type": {
          "type": "string",
          "description": "ドキュメントタイプ"
        },
        "status": {
          "type": "string",
          "enum": ["todo", "wip", "done"],
          "description": "ステータス"
        },
        "version": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+$",
          "description": "バージョン（例: 1.0.0）"
        },
        "author": {
          "type": "string",
          "description": "作成者"
        },
        "created_at": {
          "type": "string",
          "description": "作成日"
        },
        "updated_at": {
          "type": "string",
          "description": "更新日"
        }
      }
    },
    "reference_item": {
      "type": "object",
      "properties": {
        "title": { "type": "string" },
        "url": { "type": "string" }
      }
    },
    "risk_item": {
      "type": "object",
      "properties": {
        "risk": { "type": "string" },
        "impact": {
          "type": "string",
          "enum": ["high", "medium", "low"]
        },
        "mitigation": { "type": "string" }
      }
    }
  }
}
