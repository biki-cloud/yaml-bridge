# 技術的負債一覧

**タイプ:** 📦 技術的負債 | **ステータス:** 🔄 WIP | **バージョン:** 1.0.0
**作成者:** 山田太郎
**この doc_type の役割:** 技術的負債を一覧にし、対応方針を管理する。

## 負債一覧

| ID | 内容 | 優先度 | 状態 | WBS/タスク | 解消予定 |
|----|------|--------|------|------------|----------|
| TD-001 | 認証エラーメッセージがハードコードされており、多言語・汎化に... | 🟡 medium | 🔄 対応中 | 3 | エラーメッセージをコードから分離し、メッセージIDと文言のマッピングで管理する。T-003 で対応予定。 |
| TD-002 | トークン検証が各ルートで個別に呼ばれており、ミドルウェア化さ... | 🔴 high | 📋 計画済 | 2 | 認証ミドルウェアを共通化し、ルートではミドルウェアを適用するだけにする。次のイテレで対応。 |
| TD-003 | 単体テストが API 層に偏り、ドメインロジックのテストが不... | 🟡 medium | ⬜ 未着手 | 4 | トークン発行・検証・パスワード検証などのドメイン層のユニットテストを追加する。T-004 で実施。 |

### TD-001

認証エラーメッセージがハードコードされており、多言語・汎化に対応していない

**影響:** エラーメッセージの統一・変更に手間がかかる。REQ の受け入れ条件との整合も取りづらい。
**優先度:** medium
**紐付け:** WBS=3 / タスク=T-003
**解消予定:** エラーメッセージをコードから分離し、メッセージIDと文言のマッピングで管理する。T-003 で対応予定。
**状態:** in_progress

### TD-002

トークン検証が各ルートで個別に呼ばれており、ミドルウェア化されていない

**影響:** 認可の漏れ・重複が発生しやすい。将来的な権限粒度変更（U-002）に対応しづらい。
**優先度:** high
**紐付け:** WBS=2 / タスク=T-002
**解消予定:** 認証ミドルウェアを共通化し、ルートではミドルウェアを適用するだけにする。次のイテレで対応。
**状態:** planned

### TD-003

単体テストが API 層に偏り、ドメインロジックのテストが不足している

**影響:** リファクタ時にリグレッションを検知しづらい。カバレッジ目標（QC-004）の達成が難しい。
**優先度:** medium
**紐付け:** WBS=4 / タスク=T-004
**解消予定:** トークン発行・検証・パスワード検証などのドメイン層のユニットテストを追加する。T-004 で実施。
**状態:** open

## 関連資料（エビデンス）

- [実装計画](../../implementation_plan/human/document.md)
- [WBS](../../../overview/wbs/human/document.md)
- [品質・受入基準](../../../overview/quality_criteria/human/document.md)

---

[プロジェクト概要に戻る](../../../overview/project_summary/human/document.md)